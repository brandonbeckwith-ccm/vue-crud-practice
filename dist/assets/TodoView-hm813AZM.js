import{d as U,u as F,r as v,c as b,a as O,o as c,b as y,w as u,e as l,f as i,v as R,g as M,h as V,i as j,p as G,j as A,_ as P,k as x,l as H,m as X,n as J,q as E,F as S,T as K,t as Q}from"./index-cHpxvxz_.js";import{_ as D,I as N,g as W,F as Y,d as T,a as Z,u as ee,p as te}from"./Validators-zFITVxLT.js";import{_ as oe}from"./AddTodo.vue_vue_type_style_index_0_lang-M6hU_2wQ.js";const se=d=>(G("data-v-5171130c"),d=d(),A(),d),ae=se(()=>i("svg",{fill:"none",height:"24",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),i("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)),ne=U({__name:"TableItem",props:{_id:{},todoName:{},isComplete:{type:Boolean}},emits:["updateEvent","deleteEvent","addEvent","editEvent"],setup(d,{emit:p}){const C=F(),m=p,a=d,_=v(a.todoName),n=v(a.isComplete),f=b(()=>({_id:a._id,todoName:_.value,isComplete:n.value}));return(I,s)=>{const k=O("FlexCard");return c(),y(k,{class:"flex-row"},{default:u(()=>[l(D,{disabled:"true",class:"text-box",type:"text",invalid:!0,modelValue:a.todoName,"onUpdate:modelValue":s[0]||(s[0]=r=>a.todoName=r)},null,8,["modelValue"]),M(i("input",{onChange:s[1]||(s[1]=r=>m("updateEvent",f.value)),type:"checkbox",class:"check-box","onUpdate:modelValue":s[2]||(s[2]=r=>n.value=r)},null,544),[[R,n.value]]),l(N,{class:"base-button edit-button",onClick:s[3]||(s[3]=r=>V(C).push({name:"edit",query:{id:a._id}}))},{default:u(()=>[ae]),_:1}),l(N,{class:"base-button delete-button",onClick:s[4]||(s[4]=r=>m("deleteEvent",f.value))},{default:u(()=>[j(" X ")]),_:1})]),_:1})}}}),le=P(ne,[["__scopeId","data-v-5171130c"]]),de={},re={class:"flex-list"};function ue(d,p){return c(),x("div",re,[H(d.$slots,"default")])}const B=P(de,[["render",ue]]),ce=["value"],ie={xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 24 24",style:{fill:"#ffffff"}},pe=i("path",{d:"M 7.1601562 3 L 8.7617188 5 L 18 5 C 18.551 5 19 5.448 19 6 L 19 15 L 16 15 L 20 20 L 24 15 L 21 15 L 21 6 C 21 4.346 19.654 3 18 3 L 7.1601562 3 z M 4 4 L 0 9 L 3 9 L 3 18 C 3 19.654 4.346 21 6 21 L 16.839844 21 L 15.238281 19 L 6 19 C 5.449 19 5 18.552 5 18 L 5 9 L 8 9 L 4 4 z"},null,-1),me=[pe],$=250,xe=U({__name:"TodoView",setup(d){let p;const C=F(),m=v("task_dsc"),a=v([]),_=v(""),n=v(""),f=[{text:"Tasks (dsc)",value:"task_dsc"},{text:"Tasks (asc)",value:"task_asc"},{text:"Complete",value:"complete"},{text:"Incomplete",value:"incomplete"}],I=b(()=>a.value.filter(t=>t.todoName.toLowerCase().includes(_.value.toLowerCase()))),s=b(()=>{const t=(L,g)=>L.todoName.localeCompare(g.todoName),o=(L,g)=>+g.isComplete-+L.isComplete,e=[...I.value];switch(m.value){case"task_asc":return e.sort(t).reverse();case"task_dsc":return e.sort(t);case"complete":return e.sort(o);case"incomplete":return e.sort(o).reverse()}});async function k(t){if(n.value===""&&C.push({name:"add"}),!t)try{te({_id:"",todoName:n.value,isComplete:!1}),await h(),n.value=""}catch(o){console.dir(o)}}async function r(t){try{await Z(t),await h()}catch(o){console.dir(o)}}async function w(){try{const{data:t}=await W();p=t.data,a.value=p}catch{a.value=p}}const h=T(w,$),q=T(k,$);async function z(t){await ee(t),await w()}return X(()=>{w()}),(t,o)=>(c(),y(B,{class:"container-card"},{default:u(()=>[l(oe,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=e=>n.value=e),onSubmit:V(q)},null,8,["modelValue","onSubmit"]),l(Y,{class:"control-card"},{default:u(()=>[l(D,{placeholder:"Search",class:"less-aggressive-textbox",modelValue:_.value,"onUpdate:modelValue":o[1]||(o[1]=e=>_.value=e)},null,8,["modelValue"]),M(i("select",{name:"sorting-orders","onUpdate:modelValue":o[2]||(o[2]=e=>m.value=e)},[(c(),x(S,null,E(f,e=>i("option",{value:e.value},Q(e.text),9,ce)),64))],512),[[J,m.value]]),l(N,{class:"refresh-button",onClick:V(h)},{default:u(()=>[(c(),x("svg",ie,me))]),_:1},8,["onClick"])]),_:1}),l(B,{class:"list-card"},{default:u(()=>[l(K,{name:"list"},{default:u(()=>[(c(!0),x(S,null,E(s.value,e=>(c(),y(le,{key:e._id,_id:e._id,"is-complete":e.isComplete,"todo-name":e.todoName,onDeleteEvent:r,onUpdateEvent:z},null,8,["_id","is-complete","todo-name"]))),128))]),_:1})]),_:1})]),_:1}))}});export{xe as default};
