import{d as B,u as U,r as v,c as b,a as D,o as c,b as y,w as u,e as d,i as q,f as i,v as z,g as V,h as $,j as O,p as R,k as j,_ as F,l as x,m as G,n as H,q as X,s as E,F as S,T as A,t as J}from"./index-At98WpfT.js";import{_ as M,I as N,g as K,F as Q,p as W,d as Y,a as Z,u as ee}from"./Validators-CdYQfDex.js";import{_ as te}from"./AddTodo.vue_vue_type_style_index_0_lang-nVsyYqKt.js";const oe=r=>(R("data-v-2d4d8225"),r=r(),j(),r),se=oe(()=>i("svg",{fill:"none",height:"24",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),i("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)),ae=B({__name:"TableItem",props:{_id:{},todoName:{},isComplete:{type:Boolean}},emits:["updateEvent","deleteEvent","addEvent","editEvent"],setup(r,{emit:p}){const C=U(),m=p,l=r;let _=v(l.todoName),a=v(l.isComplete);const f=b(()=>({_id:l._id,todoName:_.value,isComplete:a.value}));return(I,s)=>{const k=D("FlexCard");return c(),y(k,{class:"flex-row"},{default:u(()=>[d(M,{disabled:"true",class:"text-box",type:"text",invalid:!0,modelValue:l.todoName,"onUpdate:modelValue":s[0]||(s[0]=n=>l.todoName=n)},null,8,["modelValue"]),$(i("input",{onChange:s[1]||(s[1]=n=>m("updateEvent",f.value)),type:"checkbox",class:"check-box","onUpdate:modelValue":s[2]||(s[2]=n=>q(a)?a.value=n:a=n)},null,544),[[z,V(a)]]),d(N,{class:"base-button edit-button",onClick:s[3]||(s[3]=n=>V(C).push({name:"edit",query:{id:l._id}}))},{default:u(()=>[se]),_:1}),d(N,{class:"base-button delete-button",onClick:s[4]||(s[4]=n=>m("deleteEvent",f.value))},{default:u(()=>[O(" X ")]),_:1})]),_:1})}}}),le=F(ae,[["__scopeId","data-v-2d4d8225"]]),ne={},de={class:"flex-list"};function re(r,p){return c(),x("div",de,[G(r.$slots,"default")])}const T=F(ne,[["render",re]]),ue=["value"],ce={xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 24 24",style:{fill:"#ffffff"}},ie=i("path",{d:"M 7.1601562 3 L 8.7617188 5 L 18 5 C 18.551 5 19 5.448 19 6 L 19 15 L 16 15 L 20 20 L 24 15 L 21 15 L 21 6 C 21 4.346 19.654 3 18 3 L 7.1601562 3 z M 4 4 L 0 9 L 3 9 L 3 18 C 3 19.654 4.346 21 6 21 L 16.839844 21 L 15.238281 19 L 6 19 C 5.449 19 5 18.552 5 18 L 5 9 L 8 9 L 4 4 z"},null,-1),pe=[ie],me=250,xe=B({__name:"TodoView",setup(r){let p;const C=U(),m=v("task_dsc"),l=v([]),_=v(""),a=v(""),f=[{text:"Tasks (dsc)",value:"task_dsc"},{text:"Tasks (asc)",value:"task_asc"},{text:"Complete",value:"complete"},{text:"Incomplete",value:"incomplete"}],I=b(()=>[...l.value].filter(t=>t.todoName.toLowerCase().includes(_.value.toLowerCase()))),s=b(()=>{const t=(L,g)=>L.todoName.localeCompare(g.todoName),o=(L,g)=>~~g.isComplete-~~L.isComplete,e=[...I.value];switch(m.value){case"task_asc":return e.sort(t).reverse();case"task_dsc":return e.sort(t);case"complete":return e.sort(o);case"incomplete":return e.sort(o).reverse()}});async function k(t){if(a.value===""&&C.push({name:"add"}),!t)try{W({_id:"",todoName:a.value,isComplete:!1}),await h(),a.value=""}catch(o){console.dir(o)}}async function n(t){try{await Z(t),await h()}catch(o){console.dir(o)}}async function w(){try{const{data:t}=await K();p=t.data,l.value=p}catch{l.value=p}}const h=Y(w,me);async function P(t){await ee(t),await w()}return H(()=>{w()}),(t,o)=>(c(),y(T,{class:"container-card"},{default:u(()=>[d(te,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),onSubmit:k},null,8,["modelValue"]),d(Q,{class:"control-card"},{default:u(()=>[d(M,{placeholder:"Search",class:"less-aggressive-textbox",modelValue:_.value,"onUpdate:modelValue":o[1]||(o[1]=e=>_.value=e)},null,8,["modelValue"]),$(i("select",{name:"sorting-orders","onUpdate:modelValue":o[2]||(o[2]=e=>m.value=e)},[(c(),x(S,null,E(f,e=>i("option",{value:e.value},J(e.text),9,ue)),64))],512),[[X,m.value]]),d(N,{class:"refresh-button",onClick:V(h)},{default:u(()=>[(c(),x("svg",ce,pe))]),_:1},8,["onClick"])]),_:1}),d(T,{class:"list-card"},{default:u(()=>[d(A,{name:"list"},{default:u(()=>[(c(!0),x(S,null,E(s.value,e=>(c(),y(le,{key:e._id,_id:e._id,"is-complete":e.isComplete,"todo-name":e.todoName,onDeleteEvent:n,onUpdateEvent:P},null,8,["_id","is-complete","todo-name"]))),128))]),_:1})]),_:1})]),_:1}))}});export{xe as default};
